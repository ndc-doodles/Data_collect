<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      crossorigin="anonymous" />


  <style>
    .scrollbar-hide::-webkit-scrollbar { display: none; }
    .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
  </style>
</head>

<body class="min-h-screen flex text-white
bg-gradient-to-br from-[#1a0826] via-[#3b0f4a] to-[#0f1c3f]">

<!-- SIDEBAR -->
<aside class="w-64 hidden md:flex flex-col h-screen sticky top-0
bg-gradient-to-b from-[#2b0f3a] to-[#14091f]
border-r border-white/10">

  <div class="p-6 text-xl font-bold text-purple-300 border-b border-white/10">
    Admin Panel
  </div>

  <nav class="flex-1 p-4 space-y-2 text-purple-200">
    <a href="{% url 'dashboard' %}" class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-white/10">
      Dashboard
    </a>
      <a href="{% url 'inbox' %}"
   class="relative flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-white/10">

  Inbox

  <!-- ðŸ”´ Red Dot -->
  <span id="unreadDot"
        class="hidden absolute top-2 right-3 w-2.5 h-2.5 bg-red-500 rounded-full">
  </span>
</a>

    <a href="{% url 'category' %}" class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-white/10">
     Category & Sub Category
    </a>
    <a href="{% url 'state_district' %}" class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-white/10">
     State & District
    </a>
    <a href="{% url 'data' %}" class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-white/10">
    Quick Entry
    </a>
      <a href="{% url 'data_list' %}" class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-white/10">
    Uploads
    </a>
      <a href="{% url 'usercreate' %}" class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-white/10">
   Create Users
    </a>
       <a href="{% url 'userlist' %}" class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-white/10">
   Users
    </a>

      <a href="{% url 'superuser_change_password' %}" class="flex items-center gap-3 px-4 py-2 rounded-lg
              bg-gradient-to-r from-purple-600/40 to-pink-500/40">
  Change Password
    </a>

  </nav>

  <div class="p-4 border-t border-white/10">
    <a href="{% url 'superuser_logout' %}"
       class="block text-center bg-gradient-to-r from-pink-500 to-red-500
              text-white py-2 rounded-lg hover:opacity-90">
      Logout
    </a>
  </div>
</aside>

<!-- MAIN -->
<div class="flex-1 flex flex-col">

<!-- TOP BAR -->
<header class="px-6 h-[4.78rem] flex justify-between items-center
sticky top-0 z-40
bg-white/5 backdrop-blur-xl border-b border-white/10">

  <h1 class="text-xl font-semibold text-purple-200">Dashboard</h1>

  <div class="flex items-center gap-3">
    <div class="w-10 h-10 rounded-full
                bg-gradient-to-r from-purple-500 to-pink-500
                flex items-center justify-center font-bold">
      {{ request.user.username|first|upper }}
    </div>
    <span class="text-purple-200 font-medium">
      {{ request.user.username }}
    </span>
  </div>
</header>

<!-- CONTENT -->
<main class="flex-1 flex items-center justify-center p-6">

  <form method="POST"
        class="w-full max-w-md
               bg-white/10 backdrop-blur-xl
               border border-white/20
               rounded-2xl shadow-xl p-8 space-y-5">
    {% csrf_token %}

    <h2 class="text-2xl font-semibold text-center text-purple-200">
      Change Password
    </h2>

    <div class="relative">
  <input type="password"
         id="current_password"
         name="current_password"
         placeholder="Current Password"
         class="w-full p-3 pr-12 rounded-lg
                bg-white/5 border border-white/20
                text-white placeholder-purple-300
                focus:outline-none focus:ring-2 focus:ring-purple-500"
         required>

  <button type="button"
          onclick="togglePassword('current_password', this)"
          class="absolute right-3 top-1/2 -translate-y-1/2
                 text-purple-300 hover:text-pink-400 transition">
    <i class="fa-regular fa-eye"></i>
  </button>
</div>



  <div class="relative">
  <input type="password" id="new_password" name="new_password"
         placeholder="New Password"
         class="w-full p-3 pr-12 rounded-lg bg-white/5 border border-white/20
                text-white placeholder-purple-300
                focus:outline-none focus:ring-2 focus:ring-purple-500"
         required>

  <button type="button"
          onclick="togglePassword('new_password', this)"
          class="absolute right-3 top-1/2 -translate-y-1/2
                 text-purple-300 hover:text-pink-400 transition">
    <i class="fa-regular fa-eye"></i>
  </button>
</div>


  <div class="relative">
  <input type="password" id="confirm_password" name="confirm_password"
         placeholder="Confirm New Password"
         class="w-full p-3 pr-12 rounded-lg bg-white/5 border border-white/20
                text-white placeholder-purple-300
                focus:outline-none focus:ring-2 focus:ring-purple-500"
         required>

  <button type="button"
          onclick="togglePassword('confirm_password', this)"
          class="absolute right-3 top-1/2 -translate-y-1/2
                 text-purple-300 hover:text-pink-400 transition">
    <i class="fa-regular fa-eye"></i>
  </button>
</div>


    <button type="submit"
            class="w-full py-3 rounded-lg font-semibold text-white
                   bg-gradient-to-r from-purple-600 to-pink-600
                   hover:opacity-90 transition">
      Update Password
    </button>
  </form>

</main>


<!-- MODAL BACKDROP -->
<div id="modalBackdrop"
     class="hidden fixed inset-0 z-50
            flex items-center justify-center
            bg-black/60 backdrop-blur-md">

  <!-- MODAL BOX -->
  <div id="modalBox"
       class="relative w-full max-w-md
              rounded-2xl
              bg-gradient-to-br from-[#2b0f3a]/90 to-[#14091f]/90
              border border-white/20
              shadow-[0_0_80px_rgba(168,85,247,0.35)]
              p-8 text-center
              scale-95 opacity-0
              transition-all duration-300">

    <!-- ICON -->
    <div id="modalIcon"
         class="mx-auto mb-5 w-16 h-16 rounded-full
                flex items-center justify-center
                text-white text-2xl font-bold
                bg-gradient-to-br from-purple-500 to-pink-500
                shadow-lg">
      âœ“
    </div>

    <!-- TITLE -->
    <h3 id="modalTitle"
        class="text-xl font-semibold text-white mb-2">
      Saved Successfully
    </h3>

    <!-- MESSAGE -->
    <p id="modalMessage"
       class="text-purple-200 mb-6 text-sm">
      Your data has been stored successfully.
    </p>

    <!-- BUTTON -->
    <button onclick="closeModal()"
            class="w-full py-3 rounded-xl
                   font-semibold text-white
                   bg-gradient-to-r from-purple-600 to-pink-600
                   hover:opacity-90 transition">
      OK
    </button>
  </div>
</div>



</div>



<script>
  function showModal(type, message) {
    const backdrop = document.getElementById('modalBackdrop');
    const box = document.getElementById('modalBox');
    const icon = document.getElementById('modalIcon');
    const title = document.getElementById('modalTitle');
    const msg = document.getElementById('modalMessage');

    backdrop.classList.remove('hidden');

    setTimeout(() => {
      box.classList.remove('scale-95', 'opacity-0');
      box.classList.add('scale-100', 'opacity-100');
    }, 50);

    if (type === 'success') {
      icon.innerHTML = 'âœ“';
      icon.className =
        'mx-auto mb-5 w-16 h-16 rounded-full flex items-center justify-center ' +
        'text-white text-2xl font-bold ' +
        'bg-gradient-to-br from-purple-500 to-pink-500 shadow-lg';

      title.textContent = 'Saved Successfully';
    } else {
      icon.innerHTML = 'âœ•';
      icon.className =
        'mx-auto mb-5 w-16 h-16 rounded-full flex items-center justify-center ' +
        'text-white text-2xl font-bold ' +
        'bg-gradient-to-br from-red-500 to-pink-600 shadow-lg';

      title.textContent = 'Error';
    }

    msg.textContent = message;
  }

  function closeModal() {
    const backdrop = document.getElementById('modalBackdrop');
    const box = document.getElementById('modalBox');

    box.classList.remove('scale-100', 'opacity-100');
    box.classList.add('scale-95', 'opacity-0');

    setTimeout(() => backdrop.classList.add('hidden'), 300);
  }
</script>


{% if messages %}
<script>
  {% for message in messages %}
    showModal(
      "{{ message.tags }}",
      "{{ message }}"
    );
  {% endfor %}
</script>
{% endif %}

<script>
  function togglePassword(inputId, btn) {
    const input = document.getElementById(inputId);
    const icon = btn.querySelector('i');

    if (input.type === 'password') {
      input.type = 'text';
      icon.classList.remove('fa-eye');
      icon.classList.add('fa-eye-slash');
    } else {
      input.type = 'password';
      icon.classList.remove('fa-eye-slash');
      icon.classList.add('fa-eye');
    }
  }
</script>



</body>
</html>